<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE JDBC2JSON SYSTEM "jdbc2json.dtd" >
<JDBC2JSON>       
    <DRIVERSTRING>jdbc:derby://localhost:1527/javawebisis;user=isisuser;password=isispassword</DRIVERSTRING>

    <QUERY name="DernieresCommandes">
        SELECT *
        FROM COMMANDE
        ORDER BY ENVOYEE_LE DESC
        FETCH FIRST 100 ROWS ONLY
    </QUERY>

    <QUERY name="TousLesClients">
        SELECT * FROM Client
    </QUERY>

    <QUERY name="ClientParCode">
        SELECT * FROM Client WHERE code = :code
    </QUERY>

    <QUERY name="AllCategories">
        SELECT * FROM Categorie ORDER BY Code		
    </QUERY>
    <QUERY name="InsertCategory">
        INSERT INTO Categorie(Libelle, Description) VALUES ( :libelle, :description )		
    </QUERY>
        
    <QUERY name="SalesByCustomer">
        SELECT Societe, SUM( Quantite * Prix_unitaire ) AS SALES
        FROM Client
        INNER JOIN Commande ON (Client.Code = Commande.client)
        INNER JOIN Ligne    ON (Commande.Numero = Ligne.Commande)
        INNER JOIN Produit  ON (Ligne.Produit = Produit.Reference)
        GROUP BY Societe		
    </QUERY>	
                        
</JDBC2JSON>